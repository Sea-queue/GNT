<%= form_with(model: @user) do |f| %>
  <% if @user.errors.any? %>
    <div id='error_explanation'>
      <h2><%= pluralize(user.errors.count, 'error') %> prohibited this user from being saved:</h2>
      <ul>
        <% @user.errors.full_message.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="card mb-3 mt-3" style="border-radius: .5rem;">
    <div class="row g-0">
      <div class="col-md-4 text-center" >
        <div class='filed mt-5 mb-3'>
          <% if @user.avatar.attached? %>
            <%= image_tag(@user.avatar, height: '100px', width: '100px', class:'border border-2 rounded-5') %>
          <% else %>
            <%= image_tag 'gnt_logo.png', alt:"Avatar", class:"border border-3 rounded", style:"width: 150px" %>
          <% end %>
        </div>
        
        <%= f.file_field :avatar %>

        <div>
          <h6 class='mt-3' style='color:black'> First Name / Nickname </h6>
          <%= f.text_field :full_name, autofocus: true, placeholder: current_gnt_user.full_name %>
        </div>
        <i style="color:black;" class="far fa-edit mb-5"></i>
      </div>
      <div class="col-md-8">
        <div class="card-body p-4">
          <h6 style='color:red'> * required fields </h6>
          <h5 class="mt-3">Basic Information</h5>
          <hr class="mt-0 mb-4">

          <div class="row pt-1">

            <div class="col-6 mb-3">
              <h6>Full legal name (Name exactly as it appears in official documentation i.e. National ID, nurse license, birth certificate)*:</h6>
              <%= f.text_field :legal_name %>
            </div>

            <div class="col-6 mb-3">
              <h6>Nationality*:</h6>
              <%= f.country_select :nationality, priority_countries = ["Singapore", "Chile", "US"] %>
            </div>

            <div class="col-6 mb-3">
              <h6>Email*:</h6>
              <%= f.email_field :email, autofocus: true, autocomplete: "email" %>
            </div>

            <div class="col-6 mb-3">
              <h6>Current country of residence*:</h6>
              <%= f.country_select :current_resident, priority_countries = ["Singapore", "Chile", "US"] %>
            </div>

            <div class="field mb-2">
              <h6>I am*:</h6>
              <%= f.radio_button :i_am, 'Enrolled in a nursing program' %>
              <%= f.label "Enrolled in a nursing program" %>
              <%= f.radio_button :i_am, 'Registered nurse outside the United States' %>
              <%= f.label "Registered nurse outside the United States" %>
            </div>

            <div class="col-30 mb-3">
              <h6>If applicable, insert year of expected graduation:</h6>
              <%= f.text_field :year_of_graduation %>
            </div>

            <div class="field mb-2">
              <%= f.check_box :currently_working %>
              <%= f.label :"I am currently working as a registered nurse in a clinical setting" %>
            </div>

            <div class="col-6 mb-3">
              <h6>Years of nursing work experience*:</h6>
              <%= f.select :years_of_experience, ['0', '1', '2', '3', '4', '5+' ], :prompt => current_gnt_user.years_of_experience %>
            </div>

            <div class="col-6 mb-3">
              <h6>Check all languages spoken:</h6>
              <%= f.select(:langauges_spoken, ['English', 'Spanish', 'Mandarin', 'Portuguese', 'German', 'Franch', 'Japanese'], {:multiple => true, :size => 3}, {:prompt => current_gnt_user.langauges_spoken}) %>
            </div>

            <div class="col-6 mb-3">
              <h6>Apply visa for*:</h6>
              <%= f.select :apply_visa_for, ['None', 'Me', 'Me and my family'], :prompt => current_gnt_user.apply_visa_for %>
            </div>

            <div class="col-6 mb-3">
              <h6>Phone number (+1 (123) 456-7890):</h6>
              <%= f.text_field :phone_number %>
            </div>

            <div class="field mb-2">
              <%= f.check_box :auth_whatsapp %>
              <%= f.label :"I authorize contact by WhatsApp" %>
            </div>

            <div class="field mb-2">
              <%= f.check_box :auth_text %>
              <%= f.label :"I authorize contact by telephone and text messaging (messaging rates will apply)" %>
            </div>
          </div>

          <h5 class='mt-3'>Nursing Credentials</h5>
          <hr class="mt-0 mb-4">
          <div class="row pt-1">
            <div class="field mb-2">
              <%= f.label :'I have an RN License in a foreign country (not the US)' %>
            </div>

            <div class="col-10 mb-3" style="display: flex">
              <%= f.label :'Upload Nurse License*:' %>
              <%= f.file_field :RN_License %>
            </div>

            <div class="col-10 mb-3" style="display: flex">
              <%= f.label :'License Type*:' %>
              <%= f.select :license_type, ['Registered Nurse', 'Licensed Practical Nurse', 'Nurse Practitioner'] %>
            </div>

            <div class="col-10 mb-3" style="display: flex">
              <%= f.label :'Upload Resume*:' %>
              <%= f.file_field :resume %>
            </div>

            <div class="field mb-2">
              <%= f.check_box :stage3_1 %>
              <%= f.label :'I have never had any investigation, suspension or disciplinary action on my professional license or certification' %>
            </div>

            <div class="col-30 mb-3" style="display: flex">
              <%= f.label :'If applicable, upload Diploma of Nursing Education:' %>
              <%= f.file_field :diploma %>
            </div>

            <div class="col-30 mb-3" style="display: flex">
              <%= f.label :'If applicable, upload English translation of Nursing Education Diploma:' %>
              <%= f.file_field :diploma_translate %>
            </div>

            <div class="col-20 mb-3" style="display: flex">
              <%= f.label :'If applicable, upload Nursing Education Transcripts:' %>
              <%= f.file_field :transcript, multiple: true %>
            </div>

            <div class="col-20 mb-3" style="display: flex">
              <%= f.label :'If applicable, upload English translation of Nursing Education Transcripts:' %>
              <%= f.file_field :transcript_translate, multiple: true %>
            </div>

            <div class="col-20 mb-3" style="display: flex">
              <h6>Indicate number of clinical hours in the nursing program and located specialties (hospital medical surgical, nursing home, etc.):</h6>
              <%= f.text_field :clinical_hour %>
            </div>

            <div class="col-20 mb-3" style="display: flex">
              <h6>Check all applicable specialties:</h6>
            </div>

            <div class="col-20 mb-3" style="display: flex">
              <h6>Is there anything else our Recruitment Team should know?</h6>
              <%= f.text_field :other_1 %>
            </div>
          </div>

          <h5 class='mt-2'>US Nursing Credentials</h5>
          <hr class="mt-0 mb-4">
          <div class="field mb-2">
            <%= f.label :'I have a CGFNS VisaScreen approval' %>
          </div>

          <div class="col-20 mb-3" style="display: flex">
            <%= f.label :'If applicable, upload Copy of CGFNS VisaScreen Report:' %>
            <%= f.file_field :cgfns %>
          </div>

          <div class="col-10 mb-3" style="display: flex">
            <%= f.label :'English Proficiency Exam Status*:' %>
            <%= f.select :english_proficiency, ['passed IELTS', 'passed TSE', 'passed TOEFL', 'passed PET', 'exam scheduled', 'not yet passed'] %>
          </div>

          <div class="col-20 mb-3" style="display: flex">
            <%= f.label :'If applicable, upload Copy of English proficiency exam results:' %>
            <%= f.file_field :english_proficiency_result %>
          </div>

          <div class="col-20 mb-3" style="display: flex">
            <%= f.label :'If applicable, enter the date English Proficiency Exam was passed (DD/MM/YYYY):' %>
            <%= f.text_field :english_exam_pass_date %>
          </div>

          <div class="field mb-2">
            <%= f.label :'I have passed the NCLEX-RN' %>
          </div>

          <div class="field mb-2">
            <%= f.label :'I have License to work as a Registered Nurse in a US State' %>
          </div>

          <div class="field mb-2">
            <%= f.check_box :background_check %>
            <%= f.label :'I have submitted fingerprint background checks to State Licensing authority' %>
          </div>

          <div class="col-20 mb-3" style="display: flex">
            <h6>Is there anything else our Recruitment Team should know?</h6>
            <%= f.text_field :other_2 %>
          </div>

          <h5 class='mt-2'>Immigration Documentation</h5>
          <hr class="mt-0 mb-4">
            <div class="col-20 mb-3" style="display: flex">
              <%= f.label :'Upload original or certified copy of Birth Certificate:' %>
              <%= f.file_field :birth_certificate %>
            </div>

            <div class="col-20 mb-3" style="display: flex">
              <%= f.label :'If applicable, upload translation of Birth Certificate:' %>
              <%= f.file_field :birth_certificate_translate %>
            </div>

            <div class="col-20 mb-3" style="display: flex">
              <%= f.label :'Upload copy of your valid Passport (biographic page)*:' %>
              <%= f.file_field :passport %>
            </div>

            <div class="col-20 mb-3" style="display: flex">
              <%= f.label :'If applicable, upload current or former US Visa(s):' %>
              <%= f.file_field :visa, multiple: true %>
            </div>

            <div class="col-20 mb-3" style="display: flex">
              <%= f.label :'If applicable, upload U.S. Entry Stamp or I-94 Departure/Arrival record:' %>
              <%= f.file_field :entry_stamp %>
            </div>

            <div class="field mb-2">
              <%= f.check_box :convicted_crime %>
              <%= f.label :'I have never been convicted of a crime' %>
            </div>

            <div class="field mb-2">
              <%= f.check_box :disorder %>
              <%= f.label :'I have not had any substance use disorder in the last five years.' %>
            </div>

            <div class="col-20 mb-3" style="display: flex">
              <h6>Is there anything else our Recruitment Team should know?</h6>
              <%= f.text_field :other_3 %>
            </div>

          <hr class="mt-0 mb-4">
          <div class="actions">
            <%= f.submit "Update", class:"btn btn-danger mt-2"%>
          </div>

        </div>
      </div>
    </div>
  </div>
<% end %>