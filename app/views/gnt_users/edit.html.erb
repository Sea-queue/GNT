<%= form_with(model: @user) do |f| %>
  <% if @user.errors.any? %>
    <div id='error_explanation'>
      <h2><%= pluralize(user.errors.count, 'error') %> prohibited this user from being saved:</h2>
      <ul>
        <% @user.errors.full_message.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="card mb-3 mt-3" style="border-radius: .5rem;">
    <div class="row g-0">
      <div class="col-md-4 text-center" >
        <div class='filed mt-5 mb-3'>
          <% if @user.avatar.attached? %>
            <%= image_tag(@user.avatar, height: '100px', width: '100px', class:'border border-2 rounded-5') %>
          <% else %>
            <%= image_tag 'gnt_logo.png', alt:"Avatar", class:"border border-3 rounded", style:"width: 150px" %>
          <% end %>
        </div>
        
        <%= f.file_field :avatar %>

        <div>
          <h6 class='mt-3' style='color:black'> Username / Nickname </h6>
          <%= f.text_field :first_name, autofocus: true, placeholder: current_gnt_user.full_name %>
        </div>
        <i style="color:black;" class="far fa-edit mb-5"></i>
      </div>
      <div class="col-md-8">
        <div class="card-body p-4">
          <h6 style='color:red'> * required fields </h6>
          <h5 class="section_title mt-3">Basic Information</h5>
          <hr class="mt-0 mb-4">

          <div class="row pt-1">

            <div class="col-30 mb-3">
              <h6>Full Legal Name (Exactly as it appears on official documents i.e. national ID, nursing license, birth certificate)*:</h6>
              <%= f.text_field :legal_name %>
            </div>

            <div class="col-30 mb-3">
              <h6>Email Address*:</h6>
              <%= f.email_field :email, autofocus: true, autocomplete: "email" %>
            </div>

            <div class="col-30 mb-3">
              <h6>Check all languages spoken*:</h6>
              <%= f.select(:langauges_spoken, ['English', 'Spanish', 'Mandarin', 'Portuguese', 'German', 'Franch', 'Japanese'], {:multiple => true, :size => 3}, {:prompt => current_gnt_user.langauges_spoken}) %>
            </div>

            <div class="col-30 mb-3">
              <h6>Nationality*:</h6>
              <%= f.country_select :nationality, priority_countries = ["Singapore", "Chile", "Mexico", "Philippines", "US"] %>
            </div>

            <div class="col-30 mb-3">
              <h6>Current country of residence*:</h6>
              <%= f.country_select :current_resident, priority_countries = ["Singapore", "Chile", "Mexico", "Philippines", "US"] %>
            </div>

            <div class="field mb-2" style='display: flex'>
              <h6>I am*:</h6>
            </div>

            <div class="field mb-2" style='display: flex'>
              <%= f.radio_button :i_am, 'Student Nurse' %>
              <h6>Student Nurse</h6>
            </div>

            <div class="field mb-2" style='display: flex'>
              <%= f.radio_button :i_am, 'Nurse outside of the United States' %>
              <h6>Nurse outside of the United States</h6>
            </div>

            <div class="col-30 mb-3">
              <h6>If applicable, insert year of expected graduation:</h6>
              <%= f.text_field :year_of_graduation %>
            </div>

            <div class="field mb-2">
              <%= f.check_box :currently_working %>
              <%= f.label :"I am currently working as a nurse in a clinical setting" %>
            </div>

            <div class="col-30 mb-3">
              <h6>Years of nursing work experience*:</h6>
              <%= f.select :years_of_experience, ['0', '1', '2', '3', '4', '5-10', '10+'], :prompt => current_gnt_user.years_of_experience %>
            </div>

            <div class="col-6 mb-3">
              <h6>Phone number (+1 (123) 456-7890):</h6>
              <h6>country code</h6>
              <%= f.text_field :phone_number %>
              <h6>number: </h6>
              <%= f.text_field :phone_number %>
            </div>

            <div class="field mb-2">
              <%= f.check_box :auth_whatsapp %>
              <h6>I authorize contact by WhatsApp.</h6>
            </div>

            <div class="field mb-2">
              <%= f.check_box :auth_text %>
              <h6>I authorize contact by telephone and text messaging (messaging rates may apply).</h6>
            </div>
          </div>

          <h5 class='section_title mt-3'>Nursing Credentials</h5>
          <hr class="mt-0 mb-4">
          <div class="row pt-1">
            <div class="col-10 mb-3" style="display: flex">
              <%= f.label :'Upload Resume*:' %>
              <%= f.file_field :resume %>
            </div>

            <div class="field mb-2" style="display: flex">
              <%= f.check_box :auth_text %>
              <h6>I have a Nursing License outside the U.S.</h6>
            </div>

            <div class="col-10 mb-3" style="display: flex">
              <%= f.label :'License Type*:' %>
              <%= f.select :license_type, ['None', 'Registered Nurse', 'Licensed Practical Nurse', 'Nurse Practitioner'] %>
            </div>

            <div class="col-10 mb-3" style="display: flex">
              <%= f.label :'Upload Nursing License:' %>
              <%= f.file_field :rn_license_upload %>
            </div>

            <div class="field mb-2" style="display: flex">
              <%= f.check_box :stage3_1 %>
              <h6>I hereby declare that my nursing license or certification has never been subject to any investigation, legal action, disciplinary measures, suspension, or malpractice claims.</h6>
            </div>

            <div class="col-30 mb-3" style="display: flex">
              <%= f.label :'If applicable, upload Diploma of Nursing Education:' %>
              <%= f.file_field :diploma %>
            </div>

            <div class="col-30 mb-3" style="display: flex">
              <h6>If applicable, upload English translation of nursing education diploma:</h6>
              <%= f.file_field :diploma_translate %>
            </div>

            <div class="col-20 mb-3" style="display: flex">
              <%= f.label :'If applicable, upload nursing education transcripts:' %>
              <%= f.file_field :transcript, multiple: true %>
            </div>

            <div class="col-20 mb-3" style="display: flex">
              <h6>If applicable, upload English translation of nursing education transcripts:</h6>
              <%= f.file_field :transcript_translate, multiple: true %>
            </div>

            <div class="col-20 mb-3">
              <h6>Indicate number of clinical hours in the nursing program by specialty:</h6>
              
              <h6>Medical-Surgical:</h6>
              <%= f.text_field :clinical_hour %>
              
              <h6>Pediatrics:</h6>
              <%= f.text_field :clinical_hour %>
              
              <h6>Obstetrics/Gynecology:</h6>
              <%= f.text_field :clinical_hour %>
              
              <h6>Psychiatry:</h6>
              <%= f.text_field :clinical_hour %>
              
              <h6>Emergency:</h6>
              <%= f.text_field :clinical_hour %>
              
              <h6>Critical Care (ICU):</h6>
              <%= f.text_field :clinical_hour %>
              
              <h6>Geriatrics/Nursing Home:</h6>
              <%= f.text_field :clinical_hour %>
              
              <h6>Other (Please Specify):</h6>
              <%= f.text_field :clinical_hour, placeholder:'name' %>
              <%= f.text_field :clinical_hour, placeholder:'hours' %>
            </div>

            <div class="col-30 mb-3">
              <h6>Is there anything else our Recruitment Team should know?</h6>
              <%= f.text_area :other_1, :cols => "70", :rows => "5" %>
            </div>
          </div>

          <h5 class='section_title mt-2'>U.S. Nursing Credentials</h5>
          <hr class="mt-0 mb-4">
          <div class="field mb-2" style="display: flex">
            <%= f.check_box :cgfns %>
            <h6>I have a CGFNS VisaScreen approval</h6>
          </div>

          <div class="col-20 mb-3" style="display: flex">
            <h6>If applicable, upload Copy of CGFNS VisaScreen Report:</h6>
            <%= f.file_field :cgfns_upload %>
          </div>

          <div class="col-10 mb-3" style="display: flex">
            <h6>English proficiency exam status*:</h6>
            <%= f.select :english_proficiency, ['passed IELTS', 'passed TSE', 'passed TOEFL', 'passed PET', 'exam scheduled', 'not yet passed'] %>
          </div>

          <div class="col-20 mb-3" style="display: flex">
            <h6>If applicable, upload copy of English proficiency exam results:</h6>
            <%= f.file_field :english_proficiency_result %>
          </div>

          <div class="col-20 mb-3" style="display: flex">
            <h6>If applicable, enter the date English proficiency exam was passed (DD/MM/YYYY):</h6>
            <%= f.text_field :english_exam_pass_date %>
          </div>

          <div class="field mb-2" style="display: flex">
            <%= f.check_box :nclex_rn %>
            <h6>I have passed the NCLEX-RN.</h6>
          </div>

          <div class="field mb-2" style="display: flex">
            <h6>Select NCLEX-RN State: &nbsp</h6>
            <%= f.select :nclex_rn_state, options_for_select(us_states), :prompt => current_gnt_user.rn_in_us_state %>
          </div>

          <div class="field mb-2" style="display: flex">
            <%= f.check_box :rn_in_us %>
            <h6>I have an active license to work as a Registered Nurse in the United States.</h6>
          </div>

          <div class="field mb-2" style="display: flex">
            <h6>Select Licensure State: &nbsp</h6>
            <%= f.select :rn_in_us_state, options_for_select(us_states), :prompt => current_gnt_user.rn_in_us_state %>
          </div>

          <div class="field mb-2" style='display: flex'>
            <%= f.check_box :background_check %>
            <h6>By checking this box, I affirm that my fingerprints have been submitted for the purpose of state licensure, and I understand that my application may be subject to verification by the respective state nursing board.</h6>
          </div>

          <div class="col-20 mb-3">
            <h6>Is there anything else our Recruitment Team should know?</h6>
            <%= f.text_area :other_2, :cols => "70", :rows => "5"%>
          </div>

          <h5 class='section_title mt-2'>Immigration Documentation</h5>
          <hr class="mt-0 mb-4">
            <div class="col-20 mb-3" style="display: flex">
              <%= f.label :'Upload original, or certified copy, of Birth Certificate:' %>
              <%= f.file_field :birth_certificate %>
            </div>

            <div class="col-20 mb-3" style="display: flex">
              <%= f.label :'If applicable, upload translation of Birth Certificate:' %>
              <%= f.file_field :birth_certificate_translate %>
            </div>

            <div class="col-20 mb-3" style="display: flex">
              <%= f.label :'Upload copy of your valid Passport (biographic page)*:' %>
              <%= f.file_field :passport %>
            </div>

            <div class="col-20 mb-3" style="display: flex">
              <h6>If applicable, upload current or former US Visa(s):</h6>
              <%= f.file_field :visa, multiple: true %>
            </div>

            <div class="col-30 mb-3">
              <h6>Current visa application for*:</h6>
              <%= f.select :apply_visa_for, ['None', 'Self', 'Self and Family'], :prompt => current_gnt_user.apply_visa_for %>
            </div>

            <div class="col-20 mb-3" style="display: flex">
              <h6>If applicable, upload U.S. Entry Stamp or I-94 Departure/Arrival record:</h6>
              <%= f.file_field :entry_stamp %>
            </div>

            <div class="field mb-2" style="display: flex">
              <%= f.check_box :convicted_crime %>
              <h6>I have never been convicted of a crime.</h6>
            </div>

            <div class="field mb-2" style="display: flex">
              <%= f.check_box :disorder %>
              <h6>I have not had any substance use disorder in the last five years.</h6>
            </div>

            <div class="col-20 mb-3">
              <h6>Is there anything else our Recruitment Team should know?</h6>
              <%= f.text_area :other_3, :cols => "70", :rows => "5" %>
            </div>

          <hr class="mt-0 mb-4">
          <div class="actions">
            <%= f.submit "Update", class:"btn btn-danger mt-2"%>
          </div>

        </div>
      </div>
    </div>
  </div>
<% end %>